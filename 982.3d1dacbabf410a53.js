(()=>{"use strict";var ce={443:(P,l,v)=>{v.d(l,{F:()=>G});var t=v(7580),e=v(8333),u=v(1043);const G={[t.U.WhisperOfDurance]:{id:t.U.WhisperOfDurance,name:"Whisper of Durance",description:"Slow that you apply to targets lasts longer. For those abilities that linger, their duration will also increase.",type:e.O.Stasis,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:3469412969},[t.U.WhisperOfChains]:{id:t.U.WhisperOfChains,name:"Whisper of Chains",description:"While you are near frozen targets or a friendly Stasis crystal, you take reduced damage from targets.",type:e.O.Stasis,bonus:[{stat:u.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:537774540},[t.U.WhisperOfConduction]:{id:t.U.WhisperOfConduction,name:"Whisper of Conduction",description:"Nearby Stasis shards track to your position.",type:e.O.Stasis,bonus:[{stat:u.WB.Intellect,value:10},{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:2483898429},[t.U.WhisperOfBonds]:{id:t.U.WhisperOfBonds,name:"Whisper of Bonds",description:"Defeating frozen targets generates an Orb of Power.",type:e.O.Stasis,bonus:[{stat:u.WB.Intellect,value:-10}],cost:1,requiredArmorAffinity:0,hash:3469412974},[t.U.WhisperOfHunger]:{id:t.U.WhisperOfHunger,name:"Whisper of Hunger",description:"Increases the melee energy gained from picking up Stasis shards.",type:e.O.Stasis,bonus:[{stat:u.WB.Strength,value:-20}],cost:1,requiredArmorAffinity:0,hash:2483898431},[t.U.WhisperOfFractures]:{id:t.U.WhisperOfFractures,name:"Whisper of Fractures",description:"Your melee energy recharges faster when you are near two or more targets.",type:e.O.Stasis,bonus:[{stat:u.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:537774542},[t.U.WhisperOfImpetus]:{id:t.U.WhisperOfImpetus,name:"Whisper of Impetus",description:"Damaging targets with a Stasis melee reloads your stowed weapons and grants you a temporary boost to weapon ready speed.",type:e.O.Stasis,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:537774543},[t.U.EchoOfExpulsion]:{id:t.U.EchoOfExpulsion,name:"Echo of Expulsion",description:"Void ability final blows cause targets to explode.",type:e.O.Void,bonus:[{stat:u.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984665},[t.U.EchoOfProvision]:{id:t.U.EchoOfProvision,name:"Echo of Provision",description:"Damaging targets with grenades grants melee energy.",type:e.O.Void,bonus:[{stat:u.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984664},[t.U.EchoOfPersistence]:{id:t.U.EchoOfPersistence,name:"Echo of Persistence",description:"Void buffs applied to you (Invisibility, Overshield, and Devour) have increased duration.",type:e.O.Void,bonus:[{stat:u.AR.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984671},[t.U.EchoOfLeeching]:{id:t.U.EchoOfLeeching,name:"Echo of Leeching",description:"Melee final blows start health regeneration for you and nearby allies.",type:e.O.Void,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984670},[t.U.EchoOfDomineering]:{id:t.U.EchoOfDomineering,name:"Echo of Domineering",description:"After suppressing a target, you gain greatly increased mobility for a short duration, and your equipped weapon is reloaded from reserves.\n\nDefeating suppressed targets creates a Void Breach.",type:e.O.Void,bonus:[{stat:u.WB.Discipline,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984657},[t.U.EchoOfDilation]:{id:t.U.EchoOfDilation,name:"Echo of Dilation",description:"While crouched, you sneak faster and gain enhanced radar resolution.",type:e.O.Void,bonus:[{stat:u.WB.Mobility,value:10},{stat:u.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984656},[t.U.EchoOfUndermining]:{id:t.U.EchoOfUndermining,name:"Echo of Undermining",description:"Your Void grenades weaken targets.",type:e.O.Void,bonus:[{stat:u.WB.Discipline,value:-20}],cost:1,requiredArmorAffinity:0,hash:2272984668},[t.U.EchoOfInstability]:{id:t.U.EchoOfInstability,name:"Echo of Instability",description:"Defeating targets with grenades grants Volatile Rounds to your Void weapons.",type:e.O.Void,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180600},[t.U.EchoOfHarvest]:{id:t.U.EchoOfHarvest,name:"Echo of Harvest",description:"Defeating weakened targets creates an Orb of Power and a Void Breach.",type:e.O.Void,bonus:[{stat:u.WB.Intellect,value:-10}],cost:1,requiredArmorAffinity:0,hash:2661180601},[t.U.EchoOfObscurity]:{id:t.U.EchoOfObscurity,name:"Echo of Obscurity",description:"Finisher final blows grant Invisibility.",type:e.O.Void,bonus:[{stat:u.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180602},[t.U.EchoOfStarvation]:{id:t.U.EchoOfStarvation,name:"Echo of Starvation",description:"Picking up a Void Breach or an Orb of Power grants Devour.",type:e.O.Void,bonus:[{stat:u.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:2661180603},[t.U.EchoOfVigilance]:{id:t.U.EchoOfVigilance,name:"Echo of Vigilance",description:"Defeating a target while your shields are depleted grants you a temporary Void overshield.",type:e.O.Void,bonus:[{stat:u.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:3854948621},[t.U.EmberOfBenelovence]:{id:t.U.EmberOfBenelovence,name:"Ember of Benevolence",description:"Applying restoration, cure,  or radiant to allies grants increased grenade, melee, and class ability regeneration for a short duration.",type:e.O.Solar,bonus:[{stat:u.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132292},[t.U.EmberOfBeams]:{id:t.U.EmberOfBeams,name:"Ember of Beams",description:"Your Solar Super projectiles have stronger target acquisition.",type:e.O.Solar,bonus:[{stat:u.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:362132295},[t.U.EmberOfEmpyrean]:{id:t.U.EmberOfEmpyrean,name:"Ember of Empyrean",description:"Solar weapon or ability final blows extend the duration of restoration and radiant effects applied to you.",type:e.O.Solar,bonus:[{stat:u.WB.Resilience,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132294},[t.U.EmberOfCombustion]:{id:t.U.EmberOfCombustion,name:"Ember of Combustion",description:"Final blows with a Solar Super causes targets to ignite and creates a Firesprite.",type:e.O.Solar,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:362132289},[t.U.EmberOfChar]:{id:t.U.EmberOfChar,name:"Ember of Char",description:"Your Solar ignitions spread scorch to affected targets.",type:e.O.Solar,bonus:[{stat:u.WB.Discipline,value:10}],cost:1,requiredArmorAffinity:0,hash:362132291},[t.U.EmberOfTempering]:{id:t.U.EmberOfTempering,name:"Ember of Tempering",description:"Solar weapon final blows grant you and your allies increased recovery for a short duration. Stacks 3 times.\n\nWhile Ember of Tempering is active, your weapons have increased airborne effectiveness, and your Solar weapon final blows create a Firesprite.",type:e.O.Solar,bonus:[{stat:u.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132290},[t.U.EmberOfEruption]:{id:t.U.EmberOfEruption,name:"Ember of Eruption",description:"Your Solar ignitions have increased area of effect.",type:e.O.Solar,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276348},[t.U.EmberOfWonder]:{id:t.U.EmberOfWonder,name:"Ember of Wonder",description:"Rapidly defeating multiple targets with Solar ignitions generates an Orb of Power.",type:e.O.Solar,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276350},[t.U.EmberOfSearing]:{id:t.U.EmberOfSearing,name:"Ember of Searing",description:"Defeating scorched targets grants melee energy and creates a Firesprite.",type:e.O.Solar,bonus:[{stat:u.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276351},[t.U.EmberOfTorches]:{id:t.U.EmberOfTorches,name:"Ember of Torches",description:"Powered melee attacks against combatants make you and nearby allies radiant.",type:e.O.Solar,bonus:[{stat:u.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132288},[t.U.EmberOfMercy]:{id:t.U.EmberOfMercy,name:"Ember of Mercy",description:"When you revive an ally, you and other nearby allies gain restoration.\n\nPicking up a Firesprite grants restoration.",type:e.O.Solar,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:4180586737},[t.U.SparkOfBrilliance]:{id:t.U.SparkOfBrilliance,name:"Spark of Brilliance",description:"Defeating a blinded target with precision damage creates a blinding explosion.",type:e.O.Arc,bonus:[{stat:u.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705905},[t.U.SparkOfFeedback]:{id:t.U.SparkOfFeedback,name:"Spark of Feedback",description:"Taking melee damage briefly increases your outgoing melee damage.",type:e.O.Arc,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705907},[t.U.SparkOfDischarge]:{id:t.U.SparkOfDischarge,name:"Spark of Discharge",description:"Arc weapon final blows have a chance to create an Ionic Trace.",type:e.O.Arc,bonus:[{stat:u.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069362},[t.U.SparkOfFocus]:{id:t.U.SparkOfFocus,name:"Spark of Focus",description:"After sprinting for a short time, your class ability regeneration is increased.",type:e.O.Arc,bonus:[{stat:u.AR.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069360},[t.U.SparkOfVolts]:{id:t.U.SparkOfVolts,name:"Spark of Volts",description:"Finishers make you amplified.",type:e.O.Arc,bonus:[{stat:u.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705904},[t.U.SparkOfResistance]:{id:t.U.SparkOfResistance,name:"Spark of Resistance",description:"While surrounded by combatants, you are more resistant to incoming damage.",type:e.O.Arc,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:1727069366},[t.U.SparkOfShock]:{id:t.U.SparkOfShock,name:"Spark of Shock",description:"Your Arc grenades jolt targets.",type:e.O.Arc,bonus:[{stat:u.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069364},[t.U.ThreadOfFury]:{id:t.U.ThreadOfFury,name:"Thread of Fury",description:"Damaging targets with a Tangle grants melee energy.",type:e.O.Strand,bonus:[{stat:u.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512219},[t.U.ThreadOfAscent]:{id:t.U.ThreadOfAscent,name:"Thread of Ascent",description:"Activating your grenade ability reloads your equipped weapon and grants bonus airborne effectiveness and handling for a short duration.",type:e.O.Strand,bonus:[{stat:u.WB.Mobility,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512216},[t.U.ThreadOfFinality]:{id:t.U.ThreadOfFinality,name:"Thread of Finality",description:"Finisher final blows create Threadlings.",type:e.O.Strand,bonus:[{stat:u.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512217},[t.U.ThreadOfWarding]:{id:t.U.ThreadOfWarding,name:"Thread of Warding",description:"Picking up an Orb of Power grants Woven Mail.",type:e.O.Strand,bonus:[{stat:u.WB.Resilience,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512222},[t.U.ThreadOfTransmutation]:{id:t.U.ThreadOfTransmutation,name:"Thread of Transmutation",description:"While you have Woven Mail, weapon final blows create a Tangle.",type:e.O.Strand,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512221},[t.U.ThreadOfEvolution]:{id:t.U.ThreadOfEvolution,name:"Thread of Evolution",description:"Threadlings travel farther and deal additional damage.",type:e.O.Strand,bonus:[{stat:u.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512211},[t.U.ThreadOfBinding]:{id:t.U.ThreadOfBinding,name:"Thread of Binding",description:"Super final blows emit a suspending burst from the target.",type:e.O.Strand,bonus:[{stat:u.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:3192552688},[t.U.ThreadOfGeneration]:{id:t.U.ThreadOfGeneration,name:"Thread of Generation",description:"Dealing damage generates grenade energy.",type:e.O.Strand,bonus:[{stat:u.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:3192552691},[t.U.ThreadOfPropagation]:{id:t.U.ThreadOfPropagation,name:"Thread of Propagation",description:"Powered melee final blows grant your Strand weapons Unraveling Rounds.",type:e.O.Strand,bonus:[{stat:u.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512210}}},3244:(P,l,v)=>{v.d(l,{dM:()=>G});const G=-2},6471:(P,l,v)=>{v.d(l,{y:()=>t});var t=(()=>{return(e=t||(t={}))[e.ArmorSlotNone=0]="ArmorSlotNone",e[e.ArmorSlotHelmet=1]="ArmorSlotHelmet",e[e.ArmorSlotGauntlet=2]="ArmorSlotGauntlet",e[e.ArmorSlotChest=3]="ArmorSlotChest",e[e.ArmorSlotLegs=4]="ArmorSlotLegs",e[e.ArmorSlotClass=5]="ArmorSlotClass",t;var e})()},1043:(P,l,v)=>{v.d(l,{AR:()=>N,K9:()=>u,Pn:()=>s,WB:()=>e});var t=(()=>{return(r=t||(t={}))[r.NONE=0]="NONE",r[r.MINOR_MOBILITY=1]="MINOR_MOBILITY",r[r.MAJOR_MOBILITY=2]="MAJOR_MOBILITY",r[r.ARTIFICE_MOBILITY=3]="ARTIFICE_MOBILITY",r[r.MINOR_RESILIENCE=4]="MINOR_RESILIENCE",r[r.MAJOR_RESILIENCE=5]="MAJOR_RESILIENCE",r[r.ARTIFICE_RESILIENCE=6]="ARTIFICE_RESILIENCE",r[r.MINOR_RECOVERY=7]="MINOR_RECOVERY",r[r.MAJOR_RECOVERY=8]="MAJOR_RECOVERY",r[r.ARTIFICE_RECOVERY=9]="ARTIFICE_RECOVERY",r[r.MINOR_DISCIPLINE=10]="MINOR_DISCIPLINE",r[r.MAJOR_DISCIPLINE=11]="MAJOR_DISCIPLINE",r[r.ARTIFICE_DISCIPLINE=12]="ARTIFICE_DISCIPLINE",r[r.MINOR_INTELLECT=13]="MINOR_INTELLECT",r[r.MAJOR_INTELLECT=14]="MAJOR_INTELLECT",r[r.ARTIFICE_INTELLECT=15]="ARTIFICE_INTELLECT",r[r.MINOR_STRENGTH=16]="MINOR_STRENGTH",r[r.MAJOR_STRENGTH=17]="MAJOR_STRENGTH",r[r.ARTIFICE_STRENGTH=18]="ARTIFICE_STRENGTH",t;var r})(),e=(()=>{return(r=e||(e={}))[r.Mobility=0]="Mobility",r[r.Resilience=1]="Resilience",r[r.Recovery=2]="Recovery",r[r.Discipline=3]="Discipline",r[r.Intellect=4]="Intellect",r[r.Strength=5]="Strength",e;var r})();const u={[t.NONE]:[e.Strength,0,0,0],[t.MINOR_MOBILITY]:[e.Mobility,5,1,1703647492],[t.MAJOR_MOBILITY]:[e.Mobility,10,3,4183296050],[t.ARTIFICE_MOBILITY]:[e.Mobility,3,0,2322202118],[t.MINOR_RESILIENCE]:[e.Resilience,5,2,2532323436],[t.MAJOR_RESILIENCE]:[e.Resilience,10,4,1180408010],[t.ARTIFICE_RESILIENCE]:[e.Resilience,3,0,199176566],[t.MINOR_RECOVERY]:[e.Recovery,5,2,1237786518],[t.MAJOR_RECOVERY]:[e.Recovery,10,4,4204488676],[t.ARTIFICE_RECOVERY]:[e.Recovery,3,0,539459624],[t.MINOR_DISCIPLINE]:[e.Discipline,5,1,4021790309],[t.MAJOR_DISCIPLINE]:[e.Discipline,10,3,1435557120],[t.ARTIFICE_DISCIPLINE]:[e.Discipline,3,0,617569843],[t.MINOR_INTELLECT]:[e.Intellect,5,2,350061697],[t.MAJOR_INTELLECT]:[e.Intellect,10,4,2724608735],[t.ARTIFICE_INTELLECT]:[e.Intellect,3,0,3160845295],[t.MINOR_STRENGTH]:[e.Strength,5,1,2639422088],[t.MAJOR_STRENGTH]:[e.Strength,10,3,4287799666],[t.ARTIFICE_STRENGTH]:[e.Strength,3,0,2507624050]};var N=(()=>{return(r=N||(N={}))[r.ClassAbilityRegenerationStat=10]="ClassAbilityRegenerationStat",N;var r})(),s=(()=>{return(r=s||(s={}))[r.None=0]="None",r[r.PerkExhumedExcess=1]="PerkExhumedExcess",r[r.SlotCrotasEnd=2]="SlotCrotasEnd",r[r.SlotRootOfNightmares=3]="SlotRootOfNightmares",r[r.SlotKingsFall=4]="SlotKingsFall",r[r.SlotVowOfTheDisciple=5]="SlotVowOfTheDisciple",r[r.SlotVaultOfGlass=6]="SlotVaultOfGlass",r[r.SlotDeepStoneCrypt=7]="SlotDeepStoneCrypt",r[r.SlotGardenOfSalvation=8]="SlotGardenOfSalvation",r[r.SlotLastWish=9]="SlotLastWish",r[r.SlotArtifice=10]="SlotArtifice",r[r.PerkIronBanner=11]="PerkIronBanner",r[r.SlotNightmare=12]="SlotNightmare",r[r.SonarAmplifier=13]="SonarAmplifier",r[r.PerkQueensFavor=14]="PerkQueensFavor",r[r.PerkSeraphSensorArray=15]="PerkSeraphSensorArray",r[r.PerkPlunderersTrappings=16]="PerkPlunderersTrappings",r[r.PerkUniformedOfficer=17]="PerkUniformedOfficer",r[r.GuardianGamesClassItem=18]="GuardianGamesClassItem",r[r.PerkAscendantProtector=19]="PerkAscendantProtector",r[r.COUNT=20]="COUNT",s;var r})()},1650:(P,l,v)=>{v.d(l,{w:()=>t});var t=(()=>{return(e=t||(t={}))[e.None=0]="None",e[e.ReduceUsedModSockets=1]="ReduceUsedModSockets",e[e.ReduceUsedModPoints=2]="ReduceUsedModPoints",t;var e})()},7580:(P,l,v)=>{v.d(l,{U:()=>t});var t=(()=>{return(e=t||(t={}))[e.WhisperOfDurance=1e3]="WhisperOfDurance",e[e.WhisperOfChains=1001]="WhisperOfChains",e[e.WhisperOfConduction=1002]="WhisperOfConduction",e[e.WhisperOfBonds=1101]="WhisperOfBonds",e[e.WhisperOfHunger=1102]="WhisperOfHunger",e[e.WhisperOfFractures=1103]="WhisperOfFractures",e[e.EchoOfExpulsion=1200]="EchoOfExpulsion",e[e.EchoOfProvision=1201]="EchoOfProvision",e[e.EchoOfPersistence=1202]="EchoOfPersistence",e[e.EchoOfLeeching=1203]="EchoOfLeeching",e[e.EchoOfDomineering=1204]="EchoOfDomineering",e[e.EchoOfDilation=1205]="EchoOfDilation",e[e.EchoOfUndermining=1206]="EchoOfUndermining",e[e.EchoOfInstability=1207]="EchoOfInstability",e[e.EchoOfHarvest=1208]="EchoOfHarvest",e[e.EchoOfObscurity=1209]="EchoOfObscurity",e[e.EchoOfStarvation=1210]="EchoOfStarvation",e[e.EchoOfVigilance=1211]="EchoOfVigilance",e[e.EmberOfBenelovence=1300]="EmberOfBenelovence",e[e.EmberOfBeams=1301]="EmberOfBeams",e[e.EmberOfEmpyrean=1302]="EmberOfEmpyrean",e[e.EmberOfCombustion=1303]="EmberOfCombustion",e[e.EmberOfChar=1304]="EmberOfChar",e[e.EmberOfTempering=1305]="EmberOfTempering",e[e.EmberOfEruption=1306]="EmberOfEruption",e[e.EmberOfWonder=1307]="EmberOfWonder",e[e.EmberOfSearing=1308]="EmberOfSearing",e[e.EmberOfTorches=1309]="EmberOfTorches",e[e.EmberOfMercy=1310]="EmberOfMercy",e[e.SparkOfBrilliance=1400]="SparkOfBrilliance",e[e.SparkOfFeedback=1401]="SparkOfFeedback",e[e.SparkOfDischarge=1402]="SparkOfDischarge",e[e.SparkOfFocus=1403]="SparkOfFocus",e[e.SparkOfVolts=1404]="SparkOfVolts",e[e.SparkOfResistance=1405]="SparkOfResistance",e[e.SparkOfShock=1406]="SparkOfShock",e[e.ThreadOfFury=1600]="ThreadOfFury",e[e.ThreadOfAscent=1601]="ThreadOfAscent",e[e.ThreadOfFinality=1602]="ThreadOfFinality",e[e.ThreadOfWarding=1603]="ThreadOfWarding",e[e.ThreadOfTransmutation=1604]="ThreadOfTransmutation",e[e.ThreadOfEvolution=1605]="ThreadOfEvolution",e[e.ThreadOfBinding=1606]="ThreadOfBinding",e[e.ThreadOfGeneration=1607]="ThreadOfGeneration",e[e.ThreadOfPropagation=1608]="ThreadOfPropagation",e[e.WhisperOfImpetus=537774543]="WhisperOfImpetus",t;var e})()},8333:(P,l,v)=>{v.d(l,{O:()=>t});var t=(()=>{return(e=t||(t={}))[e.CombatStyleMod=0]="CombatStyleMod",e[e.Stasis=1]="Stasis",e[e.Void=2]="Void",e[e.Solar=3]="Solar",e[e.Arc=4]="Arc",e[e.Strand=5]="Strand",e[e.RetrofitMods=6]="RetrofitMods",e[e.Prismatic=7]="Prismatic",e[e.AnySubclass=8]="AnySubclass",t;var e})()},2340:(P,l,v)=>{v.d(l,{N:()=>t});const t={version:"2.6.0p-dev-7c768bc",revision:"7c768bc",production:!1,beta:!1,canary:!0,apiKey:"4b87476d58b04954b39bb536f2bb3d4d",clientId:"47095",client_secret:"jyxH-yr75Xn9hgqHV2SeCsbTFsNRULPhq4vJlLk1z7w",offlineMode:!1,featureFlags:{enableModslotLimitation:!0,enableZeroWaste:!0,enableGuardianGamesFeatures:!1}}},5861:(P,l,v)=>{function t(u,G,Z,N,s,Y,J){try{var j=u[Y](J),M=j.value}catch($){return void Z($)}j.done?G(M):Promise.resolve(M).then(N,s)}function e(u){return function(){var G=this,Z=arguments;return new Promise(function(N,s){var Y=u.apply(G,Z);function J(M){t(Y,N,s,J,j,"next",M)}function j(M){t(Y,N,s,J,j,"throw",M)}J(void 0)})}}v.d(l,{Z:()=>e})}},oe={};function L(P){var l=oe[P];if(void 0!==l)return l.exports;var v=oe[P]={exports:{}};return ce[P](v,v.exports,L),v.exports}L.d=(P,l)=>{for(var v in l)L.o(l,v)&&!L.o(P,v)&&Object.defineProperty(P,v,{enumerable:!0,get:l[v]})},L.o=(P,l)=>Object.prototype.hasOwnProperty.call(P,l),(()=>{var P=L(5861),l=L(6471),v=L(3244),t=L(443),e=L(1043),u=L(2340);const G={1:[[2,1,0,11],[2,3,0,21],[2,1,1,21],[2,1,2,31]],2:[[4,0,0,12],[4,2,0,22],[4,0,1,22],[4,4,0,32],[4,0,2,32]],3:[[1,0,0,3],[1,2,0,13],[1,0,1,13],[1,4,0,23],[1,2,1,23],[1,0,2,23],[1,2,2,33]],4:[[3,1,0,14],[3,3,0,24],[3,1,1,24],[3,1,2,34]],5:[[0,1,0,5],[5,0,0,15],[0,3,0,15],[0,1,1,15],[5,2,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[5,4,0,35],[5,0,2,35],[0,3,2,35]],6:[[2,0,0,6],[2,2,0,16],[2,0,1,16],[2,4,0,26],[2,2,1,26],[2,0,2,26],[2,2,2,36],[2,0,3,36],[2,2,3,46]],7:[[4,1,0,17],[4,3,0,27],[4,1,1,27],[4,5,0,37],[4,1,2,37],[4,1,3,47]],8:[[1,1,0,8],[1,3,0,18],[1,1,1,18],[1,5,0,28],[1,3,1,28],[1,1,2,28],[1,3,2,38],[1,1,3,38]],9:[[3,0,0,9],[3,2,0,19],[3,0,1,19],[3,4,0,29],[3,2,1,29],[3,0,2,29],[3,2,2,39],[3,0,3,39],[3,2,3,49]],10:[[0,2,0,10],[0,0,1,10],[5,1,0,20],[0,4,0,20],[0,2,1,20],[0,0,2,20],[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30],[5,5,0,40],[5,1,2,40],[0,2,3,40],[5,1,3,50]],11:[[2,1,0,11],[2,3,0,21],[2,1,1,21],[2,5,0,31],[2,3,1,31],[2,1,2,31],[2,3,2,41],[2,1,3,41]],12:[[4,0,0,12],[4,2,0,22],[4,0,1,22],[4,4,0,32],[4,2,1,32],[4,0,2,32],[4,2,2,42],[4,0,3,42],[4,2,3,52]],13:[[1,2,0,13],[1,0,1,13],[1,4,0,23],[1,2,1,23],[1,0,2,23],[1,4,1,33],[1,2,2,33],[1,0,3,33],[1,2,3,43]],14:[[3,1,0,14],[3,3,0,24],[3,1,1,24],[3,5,0,34],[3,3,1,34],[3,1,2,34],[3,3,2,44],[3,1,3,44]],15:[[5,0,0,15],[0,3,0,15],[0,1,1,15],[5,2,0,25],[0,5,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[5,2,2,45],[5,0,3,45],[5,2,3,55]],16:[[2,2,0,16],[2,0,1,16],[2,4,0,26],[2,2,1,26],[2,0,2,26],[2,4,1,36],[2,2,2,36],[2,0,3,36],[2,2,3,46],[2,0,4,46]],17:[[4,1,0,17],[4,3,0,27],[4,1,1,27],[4,5,0,37],[4,3,1,37],[4,1,2,37],[4,3,2,47],[4,1,3,47],[4,1,4,57]],18:[[1,3,0,18],[1,1,1,18],[1,5,0,28],[1,3,1,28],[1,1,2,28],[1,3,2,38],[1,1,3,38],[1,1,4,48]],19:[[3,2,0,19],[3,0,1,19],[3,4,0,29],[3,2,1,29],[3,0,2,29],[3,4,1,39],[3,2,2,39],[3,0,3,39],[3,2,3,49],[3,0,4,49]],20:[[5,1,0,20],[0,4,0,20],[0,2,1,20],[0,0,2,20],[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30],[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40],[5,3,2,50],[5,1,3,50],[5,1,4,60]],21:[[2,3,0,21],[2,1,1,21],[2,5,0,31],[2,3,1,31],[2,1,2,31],[2,3,2,41],[2,1,3,41],[2,1,4,51]],22:[[4,2,0,22],[4,0,1,22],[4,4,0,32],[4,2,1,32],[4,0,2,32],[4,4,1,42],[4,2,2,42],[4,0,3,42],[4,2,3,52],[4,0,4,52]],23:[[1,4,0,23],[1,2,1,23],[1,0,2,23],[1,4,1,33],[1,2,2,33],[1,0,3,33],[1,2,3,43],[1,0,4,43]],24:[[3,3,0,24],[3,1,1,24],[3,5,0,34],[3,3,1,34],[3,1,2,34],[3,3,2,44],[3,1,3,44],[3,1,4,54]],25:[[5,2,0,25],[0,5,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[5,2,3,55],[5,0,4,55]],26:[[2,4,0,26],[2,2,1,26],[2,0,2,26],[2,4,1,36],[2,2,2,36],[2,0,3,36],[2,2,3,46],[2,0,4,46],[2,0,5,56]],27:[[4,3,0,27],[4,1,1,27],[4,5,0,37],[4,3,1,37],[4,1,2,37],[4,3,2,47],[4,1,3,47],[4,1,4,57]],28:[[1,5,0,28],[1,3,1,28],[1,1,2,28],[1,3,2,38],[1,1,3,38],[1,1,4,48]],29:[[3,4,0,29],[3,2,1,29],[3,0,2,29],[3,4,1,39],[3,2,2,39],[3,0,3,39],[3,2,3,49],[3,0,4,49],[3,0,5,59]],30:[[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30],[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40],[5,3,2,50],[5,1,3,50],[0,0,5,50],[5,1,4,60]],31:[[2,5,0,31],[2,3,1,31],[2,1,2,31],[2,3,2,41],[2,1,3,41],[2,1,4,51]],32:[[4,4,0,32],[4,2,1,32],[4,0,2,32],[4,4,1,42],[4,2,2,42],[4,0,3,42],[4,2,3,52],[4,0,4,52],[4,0,5,62]],33:[[1,4,1,33],[1,2,2,33],[1,0,3,33],[1,2,3,43],[1,0,4,43],[1,0,5,53]],34:[[3,5,0,34],[3,3,1,34],[3,1,2,34],[3,3,2,44],[3,1,3,44],[3,1,4,54]],35:[[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[5,2,3,55],[5,0,4,55],[5,0,5,65]],36:[[2,4,1,36],[2,2,2,36],[2,0,3,36],[2,2,3,46],[2,0,4,46],[2,0,5,56]],37:[[4,5,0,37],[4,3,1,37],[4,1,2,37],[4,3,2,47],[4,1,3,47],[4,1,4,57]],38:[[1,3,2,38],[1,1,3,38],[1,1,4,48]],39:[[3,4,1,39],[3,2,2,39],[3,0,3,39],[3,2,3,49],[3,0,4,49],[3,0,5,59]],40:[[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40],[5,3,2,50],[5,1,3,50],[0,0,5,50],[5,1,4,60]],41:[[2,3,2,41],[2,1,3,41],[2,1,4,51]],42:[[4,4,1,42],[4,2,2,42],[4,0,3,42],[4,2,3,52],[4,0,4,52],[4,0,5,62]],43:[[1,2,3,43],[1,0,4,43],[1,0,5,53]],44:[[3,3,2,44],[3,1,3,44],[3,1,4,54]],45:[[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[5,2,3,55],[5,0,4,55],[5,0,5,65]],46:[[2,2,3,46],[2,0,4,46],[2,0,5,56]],47:[[4,3,2,47],[4,1,3,47],[4,1,4,57]],48:[[1,1,4,48]],49:[[3,2,3,49],[3,0,4,49],[3,0,5,59]],50:[[5,3,2,50],[5,1,3,50],[0,0,5,50],[5,1,4,60]],51:[[2,1,4,51]],52:[[4,2,3,52],[4,0,4,52],[4,0,5,62]],53:[[1,0,5,53]],54:[[3,1,4,54]],55:[[5,2,3,55],[5,0,4,55],[5,0,5,65]],56:[[2,0,5,56]],57:[[4,1,4,57]],58:[],59:[[3,0,5,59]],60:[[5,1,4,60]],61:[],62:[[4,0,5,62]],63:[],64:[],65:[[5,0,5,65]]},Z={1:[[1,0,0,3],[0,1,0,5],[0,0,1,10]],2:[[1,0,0,3],[0,1,0,5],[0,0,1,10]],3:[[1,0,0,3],[0,1,0,5],[0,0,1,10]],4:[[0,1,0,5],[2,0,0,6],[0,0,1,10]],5:[[0,1,0,5],[2,0,0,6],[0,0,1,10]],6:[[2,0,0,6],[1,1,0,8],[0,2,0,10],[0,0,1,10]],7:[[1,1,0,8],[3,0,0,9],[0,2,0,10],[0,0,1,10]],8:[[1,1,0,8],[3,0,0,9],[0,2,0,10],[0,0,1,10]],9:[[3,0,0,9],[0,2,0,10],[0,0,1,10],[2,1,0,11]],10:[[0,2,0,10],[0,0,1,10],[2,1,0,11],[4,0,0,12]],11:[[2,1,0,11],[4,0,0,12],[1,2,0,13],[1,0,1,13],[0,3,0,15],[0,1,1,15],[0,0,2,20]],12:[[4,0,0,12],[1,2,0,13],[1,0,1,13],[3,1,0,14],[0,3,0,15],[0,1,1,15],[0,0,2,20]],13:[[1,2,0,13],[1,0,1,13],[3,1,0,14],[5,0,0,15],[0,3,0,15],[0,1,1,15],[0,0,2,20]],14:[[3,1,0,14],[5,0,0,15],[0,3,0,15],[0,1,1,15],[2,2,0,16],[2,0,1,16],[0,0,2,20]],15:[[5,0,0,15],[0,3,0,15],[0,1,1,15],[2,2,0,16],[2,0,1,16],[4,1,0,17],[0,0,2,20]],16:[[2,2,0,16],[2,0,1,16],[4,1,0,17],[1,3,0,18],[1,1,1,18],[0,4,0,20],[0,2,1,20],[0,0,2,20]],17:[[4,1,0,17],[1,3,0,18],[1,1,1,18],[3,2,0,19],[3,0,1,19],[0,4,0,20],[0,2,1,20],[0,0,2,20]],18:[[1,1,1,18],[1,3,0,18],[3,2,0,19],[3,0,1,19],[5,1,0,20],[0,4,0,20],[0,2,1,20],[0,0,2,20]],19:[[3,2,0,19],[3,0,1,19],[5,1,0,20],[0,4,0,20],[0,2,1,20],[0,0,2,20],[2,3,0,21],[2,1,1,21]],20:[[5,1,0,20],[0,4,0,20],[0,2,1,20],[0,0,2,20],[2,3,0,21],[2,1,1,21],[4,2,0,22],[4,0,1,22]],21:[[2,3,0,21],[2,1,1,21],[4,2,0,22],[4,0,1,22],[1,4,0,23],[1,2,1,23],[1,0,2,23],[0,5,0,25],[0,3,1,25],[0,1,2,25],[0,0,3,30]],22:[[4,2,0,22],[4,0,1,22],[1,4,0,23],[1,2,1,23],[1,0,2,23],[3,3,0,24],[3,1,1,24],[0,5,0,25],[0,3,1,25],[0,1,2,25],[0,0,3,30]],23:[[1,4,0,23],[1,2,1,23],[1,0,2,23],[3,3,0,24],[3,1,1,24],[5,2,0,25],[0,5,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[0,0,3,30]],24:[[3,3,0,24],[3,1,1,24],[5,2,0,25],[0,5,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[2,4,0,26],[2,2,1,26],[2,0,2,26],[0,0,3,30]],25:[[5,2,0,25],[0,5,0,25],[5,0,1,25],[0,3,1,25],[0,1,2,25],[2,4,0,26],[2,2,1,26],[2,0,2,26],[4,3,0,27],[4,1,1,27],[0,0,3,30]],26:[[2,4,0,26],[2,2,1,26],[2,0,2,26],[4,3,0,27],[4,1,1,27],[1,5,0,28],[1,3,1,28],[1,1,2,28],[0,4,1,30],[0,2,2,30],[0,0,3,30]],27:[[4,3,0,27],[4,1,1,27],[1,5,0,28],[1,3,1,28],[1,1,2,28],[3,4,0,29],[3,2,1,29],[3,0,2,29],[0,4,1,30],[0,2,2,30],[0,0,3,30]],28:[[1,5,0,28],[1,3,1,28],[1,1,2,28],[3,4,0,29],[3,2,1,29],[3,0,2,29],[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30]],29:[[3,4,0,29],[3,2,1,29],[3,0,2,29],[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30],[2,5,0,31],[2,3,1,31],[2,1,2,31]],30:[[5,3,0,30],[5,1,1,30],[0,4,1,30],[0,2,2,30],[0,0,3,30],[2,5,0,31],[2,3,1,31],[2,1,2,31],[4,4,0,32],[4,2,1,32],[4,0,2,32]],31:[[2,5,0,31],[2,3,1,31],[2,1,2,31],[4,4,0,32],[4,2,1,32],[4,0,2,32],[1,4,1,33],[1,2,2,33],[1,0,3,33],[0,3,2,35],[0,1,3,35],[0,0,4,40]],32:[[4,4,0,32],[4,2,1,32],[4,0,2,32],[1,4,1,33],[1,2,2,33],[1,0,3,33],[3,5,0,34],[3,3,1,34],[3,1,2,34],[0,3,2,35],[0,1,3,35],[0,0,4,40]],33:[[1,4,1,33],[1,2,2,33],[1,0,3,33],[3,5,0,34],[3,3,1,34],[3,1,2,34],[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[0,0,4,40]],34:[[3,5,0,34],[3,3,1,34],[3,1,2,34],[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[2,4,1,36],[2,2,2,36],[2,0,3,36],[0,0,4,40]],35:[[5,4,0,35],[5,2,1,35],[5,0,2,35],[0,3,2,35],[0,1,3,35],[2,4,1,36],[2,2,2,36],[2,0,3,36],[4,5,0,37],[4,3,1,37],[4,1,2,37],[0,0,4,40]],36:[[2,4,1,36],[2,2,2,36],[2,0,3,36],[4,5,0,37],[4,3,1,37],[4,1,2,37],[1,3,2,38],[1,1,3,38],[0,2,3,40],[0,0,4,40]],37:[[4,5,0,37],[4,3,1,37],[4,1,2,37],[1,3,2,38],[1,1,3,38],[3,4,1,39],[3,2,2,39],[3,0,3,39],[0,2,3,40],[0,0,4,40]],38:[[1,3,2,38],[1,1,3,38],[3,4,1,39],[3,2,2,39],[3,0,3,39],[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40]],39:[[3,4,1,39],[3,2,2,39],[3,0,3,39],[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40],[2,3,2,41],[2,1,3,41]],40:[[5,5,0,40],[5,3,1,40],[5,1,2,40],[0,2,3,40],[0,0,4,40],[2,3,2,41],[2,1,3,41],[4,4,1,42],[4,2,2,42],[4,0,3,42]],41:[[2,3,2,41],[2,1,3,41],[4,4,1,42],[4,2,2,42],[4,0,3,42],[1,2,3,43],[1,0,4,43],[0,1,4,45],[0,0,5,50]],42:[[4,4,1,42],[4,2,2,42],[4,0,3,42],[1,2,3,43],[1,0,4,43],[3,3,2,44],[3,1,3,44],[0,1,4,45],[0,0,5,50]],43:[[1,2,3,43],[1,0,4,43],[3,3,2,44],[3,1,3,44],[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[0,0,5,50]],44:[[3,3,2,44],[3,1,3,44],[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[2,2,3,46],[2,0,4,46],[0,0,5,50]],45:[[5,4,1,45],[5,2,2,45],[5,0,3,45],[0,1,4,45],[2,2,3,46],[2,0,4,46],[4,3,2,47],[4,1,3,47],[0,0,5,50]],46:[[2,2,3,46],[2,0,4,46],[4,3,2,47],[4,1,3,47],[1,1,4,48],[0,0,5,50]],47:[[4,3,2,47],[4,1,3,47],[1,1,4,48],[3,2,3,49],[3,0,4,49],[0,0,5,50]],48:[[1,1,4,48],[3,2,3,49],[3,0,4,49],[5,3,2,50],[5,1,3,50],[0,0,5,50]],49:[[3,2,3,49],[3,0,4,49],[5,3,2,50],[5,1,3,50],[0,0,5,50],[2,1,4,51]],50:[[5,3,2,50],[5,1,3,50],[0,0,5,50],[2,1,4,51],[4,2,3,52],[4,0,4,52]],51:[[2,1,4,51],[4,2,3,52],[4,0,4,52],[1,0,5,53]],52:[[4,2,3,52],[4,0,4,52],[1,0,5,53],[3,1,4,54]],53:[[1,0,5,53],[3,1,4,54],[5,2,3,55],[5,0,4,55]],54:[[3,1,4,54],[5,2,3,55],[5,0,4,55],[2,0,5,56]],55:[[5,2,3,55],[5,0,4,55],[2,0,5,56],[4,1,4,57]],56:[[2,0,5,56],[4,1,4,57]],57:[[4,1,4,57],[3,0,5,59]],58:[[3,0,5,59],[5,1,4,60]],59:[[3,0,5,59],[5,1,4,60]],60:[[5,1,4,60],[4,0,5,62]],61:[[4,0,5,62]],62:[[4,0,5,62]],63:[[5,0,5,65]],64:[[5,0,5,65]],65:[[5,0,5,65]]};var N=L(1650);function Y(n){return Object.prototype.hasOwnProperty.call(n,"armor")&&Object.prototype.hasOwnProperty.call(n,"usedArtifice")&&Object.prototype.hasOwnProperty.call(n,"usedMods")&&Object.prototype.hasOwnProperty.call(n,"statsWithMods")&&Object.prototype.hasOwnProperty.call(n,"classItemPerk")}var J=L(8333);function j(n,o,p,g,i,S,f){var d=n.selectedExotics[0]||0;let m=o.slice();if((d<=0||g.hash!=d)&&n.armorPerks[l.y.ArmorSlotHelmet].fixed&&n.armorPerks[l.y.ArmorSlotHelmet].value!=e.Pn.None&&n.armorPerks[l.y.ArmorSlotHelmet].value!=g.perk)return{valid:!1};if((d<=0||i.hash!=d)&&n.armorPerks[l.y.ArmorSlotGauntlet].fixed&&n.armorPerks[l.y.ArmorSlotGauntlet].value!=e.Pn.None&&n.armorPerks[l.y.ArmorSlotGauntlet].value!=i.perk)return{valid:!1};if((d<=0||S.hash!=d)&&n.armorPerks[l.y.ArmorSlotChest].fixed&&n.armorPerks[l.y.ArmorSlotChest].value!=e.Pn.None&&n.armorPerks[l.y.ArmorSlotChest].value!=S.perk)return{valid:!1};if((d<=0||f.hash!=d)&&n.armorPerks[l.y.ArmorSlotLegs].fixed&&n.armorPerks[l.y.ArmorSlotLegs].value!=e.Pn.None&&n.armorPerks[l.y.ArmorSlotLegs].value!=f.perk)return{valid:!1};if(n.armorPerks[l.y.ArmorSlotClass].fixed&&n.armorPerks[l.y.ArmorSlotClass].value!=e.Pn.None&&!p.has(n.armorPerks[l.y.ArmorSlotClass].value))return{valid:!1};m[g.perk]--,m[i.perk]--,m[S.perk]--,m[f.perk]--,d>0&&(g.hash==d?m[n.armorPerks[g.slot].value]--:i.hash==d?m[n.armorPerks[i.slot].value]--:S.hash==d?m[n.armorPerks[S.slot].value]--:f.hash==d&&m[n.armorPerks[f.slot].value]--);let O=0;for(let w=1;w<e.Pn.COUNT;w++)O+=Math.max(0,m[w]);var I=e.Pn.None;if(1==O){var k=!1;for(let w=1;w<e.Pn.COUNT&&!k;w++)m[w]<=0||p.has(w)&&(k=!0,I=w);k&&O--}else I==e.Pn.None&&n.armorPerks[l.y.ArmorSlotClass].fixed&&(I=n.armorPerks[l.y.ArmorSlotClass].value);return{valid:O<=0,requiredClassItemType:I}}function*r(n,o,p=0,g=[]){if(0==o||p>=n.length)yield g;else for(let i=p;i<n.length;i++){const S=n[i],f=[...g];f.push(S),yield*r(n,o-1,i+1,f)}}function pe(n,o,p,g,i,S,f,d,m=!1,O=!1,I=null,k=[]){const w=[p,g,i,S];var U=o.assumeClassItemMasterworked?2:0;for(let a=0;a<w.length;a++){let b=w[a];(b.masterworked||b.isExotic&&o.assumeExoticsMasterworked||!b.isExotic&&o.assumeLegendariesMasterworked)&&(U+=2)}const h=function he(n){return[n[0].mobility+n[1].mobility+n[2].mobility+n[3].mobility,n[0].resilience+n[1].resilience+n[2].resilience+n[3].resilience,n[0].recovery+n[1].recovery+n[2].recovery+n[3].recovery,n[0].discipline+n[1].discipline+n[2].discipline+n[3].discipline,n[0].intellect+n[1].intellect+n[2].intellect+n[3].intellect,n[0].strength+n[1].strength+n[2].strength+n[3].strength]}(w);h[0]+=U,h[1]+=U+(!w[2].isExotic&&o.addConstent1Resilience?1:0),h[2]+=U,h[3]+=U,h[4]+=U,h[5]+=U;const X=[h[0],h[1],h[2],h[3],h[4],h[5]];h[0]+=f[0],h[1]+=f[1],h[2]+=f[2],h[3]+=f[3],h[4]+=f[4],h[5]+=f[5];for(let a=0;a<6;a++)if(o.minimumStatTiers[a].fixed&&(o.allowExactStats&&h[a]/10-.001>o.minimumStatTiers[a].value||!o.allowExactStats&&h[a]/10>=o.minimumStatTiers[a].value+1))return null;let V=w.filter(a=>a.perk==e.Pn.SlotArtifice||o.assumeEveryLegendaryIsArtifice&&!a.isExotic||o.assumeEveryExoticIsArtifice&&a.isExotic).length;O&&(V+=1);const _=[Math.max(0,10*o.minimumStatTiers[0].value-h[0]),Math.max(0,10*o.minimumStatTiers[1].value-h[1]),Math.max(0,10*o.minimumStatTiers[2].value-h[2]),Math.max(0,10*o.minimumStatTiers[3].value-h[3]),Math.max(0,10*o.minimumStatTiers[4].value-h[4]),Math.max(0,10*o.minimumStatTiers[5].value-h[5])];if(o.onlyShowResultsWithNoWastedStats)for(let a=0;a<6;a++){const b=10-h[a]%10;_[a]=Math.max(_[a],b<10?b:0)}const q=[0,0,0,0,0,0];if(o.tryLimitWastedStats)for(let a=0;a<6;a++)0==_[a]&&!o.minimumStatTiers[a].fixed&&h[a]<100&&h[a]%10>0&&(q[a]=10-h[a]%10);const K=q.reduce((a,b)=>a+b,0),H=_[0]+_[1]+_[2]+_[3]+_[4]+_[5];if(H>50+3*V)return null;let c;if(c=0==H&&0==K?[]:z(o,_,q,V,d,o.modOptimizationStrategy),null==c)return null;const E=[Math.max(0,100-h[0]),Math.max(0,100-h[1]),Math.max(0,100-h[2]),Math.max(0,100-h[3]),Math.max(0,100-h[4]),Math.max(0,100-h[5])];let y=[],C=[];for(let a=0;a<4;a++)for(let b=a+1;b<5;b++)for(let T=b+1;T<6;T++){let A=_.slice();if(A[a]=E[a],A[b]=E[b],A[T]=E[T],A[0]+A[1]+A[2]+A[3]+A[4]+A[5]<=65){y.push([a,b,T]);for(let D=T+1;D<6;D++){let R=A.slice();R[D]=E[D],R[0]+R[1]+R[2]+R[3]+R[4]+R[5]<=65&&C.push([a,b,T,D])}}}if(y.length>0){for(let a of y){const b=_.slice();for(let A of a)b[A]=E[A];null!=z(o,b,[0,0,0,0,0,0],V,d,N.w.None)&&n.statCombo3x100.add((1<<a[0])+(1<<a[1])+(1<<a[2]))}for(let a of C){const b=_.slice();for(let A of a)b[A]=E[A];null!=z(o,b,[0,0,0,0,0,0],V,d,N.w.None)&&n.statCombo4x100.add((1<<a[0])+(1<<a[1])+(1<<a[2])+(1<<a[3]))}}for(let a=0;a<6;a++){n.maximumPossibleTiers[a]<h[a]&&(n.maximumPossibleTiers[a]=h[a]);const b=_[a];e:for(let T=10;T>=o.minimumStatTiers[a].value&&T>n.maximumPossibleTiers[a]/10&&!(h[a]>=10*T);T--){const A=10-h[a]%10;_[a]=Math.max(A<10?A:0,10*T-h[a]);for(let ee of k){const D=_.slice();for(let F=0;F<6;F++)D[F]-=ee.stats[F],D[F]+=I?.stats[F]||0,D[F]=Math.max(0,D[F]);if(null!=z(o,D,[0,0,0,0,0,0],V,d,N.w.None)){n.maximumPossibleTiers[a]=10*T;break e}}}_[a]=b}if(m)return[];const W=c.filter(a=>a%3==0),x=c.filter(a=>a%3!=0);for(let a of c)h[Math.floor((a-1)/3)]+=e.K9[a][1];const B=function ge(n){return(n[e.WB.Mobility]>100?n[e.WB.Mobility]-100:n[e.WB.Mobility]%10)+(n[e.WB.Resilience]>100?n[e.WB.Resilience]-100:n[e.WB.Resilience]%10)+(n[e.WB.Recovery]>100?n[e.WB.Recovery]-100:n[e.WB.Recovery]%10)+(n[e.WB.Discipline]>100?n[e.WB.Discipline]-100:n[e.WB.Discipline]%10)+(n[e.WB.Intellect]>100?n[e.WB.Intellect]-100:n[e.WB.Intellect]%10)+(n[e.WB.Strength]>100?n[e.WB.Strength]-100:n[e.WB.Strength]%10)}(h);return o.onlyShowResultsWithNoWastedStats&&B>0?null:function s(n,o,p,g,i,S,f,d){return{armor:[n.id,o.id,p.id,g.id],usedArtifice:i,usedMods:S,classItemPerk:e.Pn.None,statsWithMods:f,statsWithoutMods:d,additionalFragments:[]}}(p,g,i,S,W,x,h,X)}function z(n,o,p,g,i,S=N.w.None){const f=o[0]+o[1]+o[2]+o[3]+o[4]+o[5];if(f>65)return null;const d=n.onlyShowResultsWithNoWastedStats?G:Z,m=[d[o[0]]||[[0,0,0,0]],d[o[1]]||[[0,0,0,0]],d[o[2]]||[[0,0,0,0]],d[o[3]]||[[0,0,0,0]],d[o[4]]||[[0,0,0,0]],d[o[5]]||[[0,0,0,0]]];if(n.allowExactStats)for(let c=0;c<6;c++)n.minimumStatTiers[c].fixed&&o[c]>0&&(m[c]=G[o[c]]||[[0,0,0,0]],m[c]=m[c].filter(E=>E[3]-o[c]<10));for(let c=0;c<p.length;c++)if(p[c]>0){const E=d[p[c]].filter(y=>0==y[2]&&y[3]%10>0&&(p[c]+y[3])%10<p[c]);null!=E&&(m[c]=E.slice(0,3).concat(m[c]))}let I=null,k=1e3;const w=i.length,U=i[w-1],X=[1,2,2,1,2,1],V=[3,4,4,3,4,3];function _(c){return c.reduce(S==N.w.ReduceUsedModSockets?(y,C)=>y+C[1]+C[2]:S==N.w.ReduceUsedModPoints?(E,y,C)=>E+X[C]*y[1]+V[C]*y[2]:(E,y)=>E+y[3],0)}function q(c,E=!1){const y=c.reduce((W,x,B)=>[W[0]+x[0],W[1]+x[1],W[2]+x[2],W[3]+x[3]-o[B]],[0,0,0,0]);if(_(c)>k||y[0]>g||y[1]+y[2]>w||y[3]<0)return!1;if(!E||5==U)return!0;let C=[];for(let W=0;W<c.length;W++){const x=c[W],B=0==W||3==W||5==W;let a=B?1:2,b=B?3:4;for(let T=0;T<x[1];T++)C.push(a);for(let T=0;T<x[2];T++)C.push(b)}return 0==C.length||!!function h(c){let E=c.length;if(0==E)return!0;if(E>w)return!1;c.sort((y,C)=>C-y);for(let y=0;y<i.length&&y<E;y++)if(i[y]<c[y])return!1;return!0}(C)}const K=f>0&&S!=N.w.None;e:for(let c of m[0])if(q([c]))for(let E of m[1])if(q([c,E]))for(let y of m[2])if(q([c,E,y])&&!(K&&_([c,E,y])>=k))for(let C of m[3])if(q([c,E,y,C])&&!(K&&_([c,E,y,C])>=k))for(let W of m[4])if(q([c,E,y,C,W])&&!(K&&_([c,E,y,C,W])>=k))t:for(let x of m[5]){let B=[c,E,y,C,W,x];if(!q(B,!0))continue;for(let b=0;b<6;b++)if(p[b]>0&&0==B[b][3]&&null!=I)continue t;let a=_(B);if(a<k&&(k=a,I=B,!K))break e}if(null===I)return null;const H=[];for(let c=0;c<I.length;c++){for(let E=0;E<I[c][0];E++)H.push(3+3*c);for(let E=0;E<I[c][1];E++)H.push(1+3*c);for(let E=0;E<I[c][2];E++)H.push(2+3*c)}return H}addEventListener("message",function(){var n=(0,P.Z)(function*({data:o}){const p=o.threadSplit,g=Date.now();console.debug("START RESULTS BUILDER 2"),console.time(`total #${p.current}`);const i=o.config;i.onlyShowResultsWithNoWastedStats=u.N.featureFlags.enableZeroWaste&&i.onlyShowResultsWithNoWastedStats,u.N.featureFlags.enableModslotLimitation||(i.maximumModSlots[l.y.ArmorSlotHelmet].value=5,i.maximumModSlots[l.y.ArmorSlotGauntlet].value=5,i.maximumModSlots[l.y.ArmorSlotChest].value=5,i.maximumModSlots[l.y.ArmorSlotLegs].value=5,i.maximumModSlots[l.y.ArmorSlotClass].value=5),console.log("Using config",o.config);let S=o.selectedExotics,f=o.items,d=f.filter(R=>R.slot==l.y.ArmorSlotHelmet).filter(R=>!i.useFotlArmor||[199733460,2545426109,3224066584].indexOf(R.hash)>-1),m=f.filter(R=>R.slot==l.y.ArmorSlotGauntlet),O=f.filter(R=>R.slot==l.y.ArmorSlotChest),I=f.filter(R=>R.slot==l.y.ArmorSlotLegs);if(p.count>1){var k=[[d,d.length],[m,m.length],[O,O.length],[I,I.length]].sort((R,F)=>F[1]-R[1])[0][0],w=Math.round(k.length/p.count),U=w*p.current,h=U+w;p.current==p.count-1&&(h=k.length),k.splice(h),k.splice(0,U)}let X=f.filter(R=>R.slot==l.y.ArmorSlotClass),V=new Set(X.map(R=>R.perk));(i.assumeEveryLegendaryIsArtifice||i.assumeClassItemIsArtifice)&&V.add(e.Pn.SlotArtifice),console.debug("items",JSON.stringify({helmets:d.length,gauntlets:m.length,chests:O.length,legs:I.length,availableClassItemTypes:V}));const _={maximumPossibleTiers:[0,0,0,0,0,0],statCombo3x100:new Set,statCombo4x100:new Set},q=function M(n){const o=[0,0,0,0,0,0];for(const g of n.enabledMods)for(const i of t.F[g].bonus)o[i.stat==e.AR.ClassAbilityRegenerationStat?[1,0,2][n.characterClass]:i.stat]+=i.value;return o}(i),K=function $(n){let o=[];for(let p=0;p<e.Pn.COUNT;p++)o.push(0);return o[n.armorPerks[l.y.ArmorSlotHelmet].value]++,o[n.armorPerks[l.y.ArmorSlotChest].value]++,o[n.armorPerks[l.y.ArmorSlotGauntlet].value]++,o[n.armorPerks[l.y.ArmorSlotLegs].value]++,o[n.armorPerks[l.y.ArmorSlotClass].value]++,o}(i),H=function ae(n){var o=[];return o.push(n.maximumModSlots[l.y.ArmorSlotHelmet].value),o.push(n.maximumModSlots[l.y.ArmorSlotGauntlet].value),o.push(n.maximumModSlots[l.y.ArmorSlotChest].value),o.push(n.maximumModSlots[l.y.ArmorSlotLegs].value),o.push(n.maximumModSlots[l.y.ArmorSlotClass].value),o.filter(p=>p>0).sort((p,g)=>g-p)}(i),c=S.length<=1,E=V.has(e.Pn.SlotArtifice),y=i.selectedExotics.indexOf(v.dM)>-1;console.log("hasArtificeClassItem",E);let C=[],W=0,x=0,B=0,a=!1,b=function de(n,o,p,g){let i=0;const S=n.filter(U=>U.isExotic).length,f=n.length-S,d=o.filter(U=>U.isExotic).length,m=o.length-d,O=p.filter(U=>U.isExotic).length,I=p.length-O,k=g.filter(U=>U.isExotic).length,w=g.length-k;return i+=S*m*I*w,i+=f*d*I*w,i+=f*m*O*w,i+=f*m*I*k,i+=f*m*I*w,i}(d,m,O,I),T=0,A=0;console.log("estimatedCalculations",b);let ee=b>=1e6?125:75;const D=function fe(n){const o=Array.from(function*ue(n){if(yield{subclass:null,fragments:[],stats:[0,0,0,0,0,0]},n.automaticallySelectFragments){const o=new Map;e:for(const g of Object.values(t.F)){const i=g.type;if(n.selectedModElement==J.O.AnySubclass||i==n.selectedModElement){if(g.bonus.some(S=>S.value<0))for(let S=0;S<g.bonus.length;S++)if(g.bonus[S].value<0&&!n.minimumStatTiers[S].fixed)continue e;n.enabledMods.indexOf(g.id)>-1||(o.has(i)||o.set(i,[]),o.get(i).push(g))}}let p=4;for(const g of Object.values(t.F))n.enabledMods.indexOf(g.id)>-1&&p--;for(const[g,i]of o)for(let S=1;S<=p;S++)for(const f of r(i,S)){const d=[0,0,0,0,0,0];for(const m of f)for(const O of m.bonus)d[O.stat==e.AR.ClassAbilityRegenerationStat?[1,0,2][g]:O.stat]+=O.value;yield{subclass:g,fragments:f,stats:d}}}}(n)),p=new Set(o.map(i=>JSON.stringify(i.stats)));let g=Array.from(p).map(i=>o.find(S=>JSON.stringify(S.stats)==i)).filter(i=>null!=i&&null!=i);return g=g.filter(i=>{if(!i.stats.some(f=>f<0))return!0;for(let f=0;f<i.stats.length;f++)if(i.stats[f]<0&&n.minimumStatTiers[f].fixed)return!0;return!1}),g=g.sort((i,S)=>{const f=i.stats.some(m=>m<0),d=S.stats.some(m=>m<0);return!f&&d?-1:f&&!d?1:i.stats.reduce((m,O)=>m+O)-S.stats.reduce((m,O)=>m+O)}),g}(i);console.time(`tm #${p.current}`);for(let[R,F,ie,le]of function*me(n,o,p,g,i,S){for(let f of n)for(let d of o)if(!(i&&f.isExotic&&d.isExotic))for(let m of p)if(!i||!f.isExotic&&!d.isExotic||!m.isExotic)for(let O of g)i&&(f.isExotic||d.isExotic||m.isExotic)&&O.isExotic||S&&!(f.isExotic||d.isExotic||m.isExotic||O.isExotic)||(yield[f,d,m,O])}(d,m,O,I,c,y)){T++;const te=j(i,K,V,R,F,ie,le);if(!te.valid)continue;const Ee=!te.requiredClassItemType||te.requiredClassItemType==e.Pn.SlotArtifice;let Q=null;for(const ne of D){const Se=q.map((re,se)=>re+ne.stats[se]);if(Q=pe(_,i,R,F,ie,le,Se,H,a,E&&Ee,ne,D),null!=Q){if(Y(Q)){const re=ne.fragments.map(se=>se.id);Q.additionalFragments=re}break}}null!=Q&&(B++,Y(Q)&&(Q.classItemPerk=te.requiredClassItemType||(E?e.Pn.SlotArtifice:e.Pn.None),C.push(Q),W++,x++,a=a||i.limitParsedResults&&x>=3e4/p.count||x>=1e6/p.count)),B%5e3==0&&A+ee<Date.now()&&(A=Date.now(),postMessage({checkedCalculations:T,estimatedCalculations:b})),W>=5e3&&(postMessage({runtime:_,results:C,done:!1,checkedCalculations:T,estimatedCalculations:b}),C=[],W=0)}console.timeEnd(`tm #${p.current}`),console.timeEnd(`total #${p.current}`),postMessage({runtime:_,results:C,done:!0,checkedCalculations:T,estimatedCalculations:b,stats:{permutationCount:B,itemCount:f.length-X.length,totalTime:Date.now()-g}})});return function(o){return n.apply(this,arguments)}}())})()})();